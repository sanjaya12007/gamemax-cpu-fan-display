<Application x:Class="GameMax_CPU_Fan_Display.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:tb="http://www.hardcodet.net/taskbar"
             ShutdownMode="OnExplicitShutdown">
    <Application.Resources>
        <tb:TaskbarIcon x:Key="TrayIcon"
                        IconSource="pack://application:,,,/app.ico"
                        ToolTipText="GameMax CPU Fan Display">
            <tb:TaskbarIcon.ContextMenu>
                <ContextMenu>
                    <ContextMenu.Resources>
                        <Style TargetType="ContextMenu">
                            <Setter Property="OverridesDefaultStyle" Value="True"/>
                            <Setter Property="HasDropShadow" Value="False"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ContextMenu">
                                        <Border Background="#1e1e1e"
                                                CornerRadius="6"
                                                BorderBrush="#222"
                                                BorderThickness="1"
                                                MinWidth="120">
                                            <StackPanel IsItemsHost="True"
                                                        KeyboardNavigation.DirectionalNavigation="Cycle"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                        <Style TargetType="MenuItem">
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="FontFamily" Value="Segoe UI"/>
                            <Setter Property="FontSize" Value="12"/>
                            <Setter Property="Padding" Value="14,5"/>
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="MenuItem">
                                        <Border x:Name="Border"
                                                Background="Transparent"
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter ContentSource="Header"
                                                              VerticalAlignment="Center"
                                                              HorizontalAlignment="Left"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsHighlighted" Value="True">
                                                <Setter TargetName="Border" Property="Background" Value="#2a2a2a"/>
                                                <Setter Property="Foreground" Value="#4aa3ff"/>
                                            </Trigger>
                                            <Trigger Property="IsEnabled" Value="False">
                                                <Setter Property="Foreground" Value="#777"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                        <Style TargetType="Separator">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Separator">
                                        <Border Background="#2a2a2a" 
                                                Height="1" 
                                                HorizontalAlignment="Stretch"/>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </ContextMenu.Resources>
                    <MenuItem Header="Settings" Click="OnSettings"/>
                    <MenuItem Header="About" Click="OnAbout"/>
                    <MenuItem Header="GitHub" Click="OnGitHub"/>
                    <MenuItem Header="Exit" Click="OnExit"/>
                </ContextMenu>
            </tb:TaskbarIcon.ContextMenu>
        </tb:TaskbarIcon>
    </Application.Resources>
</Application>
